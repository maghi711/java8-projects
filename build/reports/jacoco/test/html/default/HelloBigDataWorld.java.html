<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HelloBigDataWorld.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">java8-projects</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">HelloBigDataWorld.java</span></div><h1>HelloBigDataWorld.java</h1><pre class="source lang-java linenums">/*-
 * Copyright (C) 2011, 2018 Oracle and/or its affiliates. All rights reserved.
 *
 * This file was distributed by Oracle as part of a version of Oracle NoSQL
 * Database made available at:
 *
 * http://www.oracle.com/technetwork/database/database-technologies/nosqldb/downloads/index.html
 *
 * Please see the LICENSE file included in the top-level directory of the
 * appropriate version of Oracle NoSQL Database for a copy of the license and
 * additional information.
 */

import oracle.kv.FaultException;
import oracle.kv.KVStore;
import oracle.kv.KVStoreConfig;
import oracle.kv.KVStoreFactory;
import oracle.kv.Key;
import oracle.kv.Value;
import oracle.kv.ValueVersion;

/**
 * An extremely simple Oracle NoSQL DB application that writes and reads a
 * single record.  It can be used to validate an installation.
 *
 * Before running this example program, start an Oracle NoSQL DB instance.  The
 * simplest way to do that is to run KVLite as described in the INSTALL
 * document.  Use the Oracle NoSQL DB instance name, host and port for running
 * this program, as follows:
 *
 * &lt;pre&gt;
 * java hello.HelloBigDataWorld -store &amp;lt;instance name&amp;gt; \
 *                              -host  &amp;lt;host name&amp;gt;     \
 *                              -port  &amp;lt;port number&amp;gt;
 * &lt;/pre&gt;
 *
 * For all examples the default instance name is kvstore, the default host name
 * is localhost and the default port number is 5000.  These defaults match the
 * defaults for running kvlite, so the simplest way to run the examples along
 * with kvlite is to omit all parameters.
 *
 * &lt;p&gt;
 * If the security for the store is enabled, use the oracle.kv.security
 * property to specify a user login file. For example,
 * &lt;pre&gt;&lt;code&gt;
 *  &amp;gt; java -Doracle.kv.security=$KVHOME/kvroot/security/user.security \
 *          hadoop.hive.table.LoadRmvTable
 * &lt;/code&gt;&lt;/pre&gt;
 * You can also disable the security of the store. For kvlite, you can use the
 * following command to start a non-secure store.
 * &lt;pre&gt;&lt;code&gt;
 *  &amp;gt; java -jar KVHOME/lib/kvstore.jar kvlite -secure-config disable
 * &lt;/code&gt;&lt;/pre&gt;
 * More details are available at &lt;a href=&quot;https://www.oracle.com/pls/topic/lookup?ctx=en/database/other-databases/nosql-database/18.1&amp;id=NSKVJ-GUID-C1E4D281-2285-498A-BC12-858A5DFCF4F7&quot;&gt;
 * kvlite Utility Command Line Parameter Options&lt;/a&gt; and
 * &lt;a href=&quot;https://www.oracle.com/pls/topic/lookup?ctx=en/database/other-databases/nosql-database/18.1&amp;id=NSSEC-GUID-6C5875FE-9765-45E6-9EC7-0D6EAEE3F95D&quot;&gt;
 * Oracle NoSQL Database Security Guide&lt;/a&gt;.
 *
 *
 */
public class HelloBigDataWorld {

    private final KVStore store;

    /**
     * Runs the HelloBigDataWorld command line program.
     */
    public static void main(String args[]) {
        try {
<span class="nc" id="L70">            HelloBigDataWorld example = new HelloBigDataWorld(args);</span>
<span class="nc" id="L71">            example.runExample();</span>
<span class="nc" id="L72">        } catch (FaultException e) {</span>
<span class="nc" id="L73">        	e.printStackTrace();</span>
<span class="nc" id="L74">        	System.out.println(&quot;Please make sure a store is running.&quot;);</span>
<span class="nc" id="L75">            System.out.println(&quot;The error could be caused by a security &quot; +</span>
                    &quot;mismatch. If the store is configured secure, you &quot; +
                    &quot;should specify a user login file &quot; +
                    &quot;with system property oracle.kv.security. &quot; +
                    &quot;For example, \n&quot; +
                    &quot;\tjava -Doracle.kv.security=&lt;user security login &quot; +
                    &quot;file&gt; hello.HelloBigDataWorld\n&quot; +
                    &quot;KVLite generates the security file in &quot; +
                    &quot;$KVHOME/kvroot/security/user.security &quot;);
<span class="nc" id="L84">        } catch (RuntimeException e) {</span>
<span class="nc" id="L85">            e.printStackTrace();</span>
<span class="nc" id="L86">        }</span>
<span class="nc" id="L87">    }</span>

    /**
     * Parses command line args and opens the KVStore.
     */
<span class="nc" id="L92">    HelloBigDataWorld(String[] argv) {</span>

<span class="nc" id="L94">        String storeName = &quot;kvstore&quot;;</span>
<span class="nc" id="L95">        String hostName = &quot;localhost&quot;;</span>
<span class="nc" id="L96">        String hostPort = &quot;5000&quot;;</span>

<span class="nc" id="L98">        final int nArgs = argv.length;</span>
<span class="nc" id="L99">        int argc = 0;</span>

<span class="nc bnc" id="L101" title="All 2 branches missed.">        while (argc &lt; nArgs) {</span>
<span class="nc" id="L102">            final String thisArg = argv[argc++];</span>

<span class="nc bnc" id="L104" title="All 2 branches missed.">            if (thisArg.equals(&quot;-store&quot;)) {</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">                if (argc &lt; nArgs) {</span>
<span class="nc" id="L106">                    storeName = argv[argc++];</span>
                } else {
<span class="nc" id="L108">                    usage(&quot;-store requires an argument&quot;);</span>
                }
<span class="nc bnc" id="L110" title="All 2 branches missed.">            } else if (thisArg.equals(&quot;-host&quot;)) {</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">                if (argc &lt; nArgs) {</span>
<span class="nc" id="L112">                    hostName = argv[argc++];</span>
                } else {
<span class="nc" id="L114">                    usage(&quot;-host requires an argument&quot;);</span>
                }
<span class="nc bnc" id="L116" title="All 2 branches missed.">            } else if (thisArg.equals(&quot;-port&quot;)) {</span>
<span class="nc bnc" id="L117" title="All 2 branches missed.">                if (argc &lt; nArgs) {</span>
<span class="nc" id="L118">                    hostPort = argv[argc++];</span>
                } else {
<span class="nc" id="L120">                    usage(&quot;-port requires an argument&quot;);</span>
                }
            } else {
<span class="nc" id="L123">                usage(&quot;Unknown argument: &quot; + thisArg);</span>
            }
<span class="nc" id="L125">        }</span>
<span class="nc" id="L126">        System.out.println(&quot;storeName = &quot; + storeName);</span>
<span class="nc" id="L127">        System.out.println(&quot;hostName = &quot; + hostName);</span>
<span class="nc" id="L128">        System.out.println(&quot;hostPort = &quot; + hostPort);</span>

<span class="nc" id="L130">        store = KVStoreFactory.getStore</span>
<span class="nc" id="L131">            (new KVStoreConfig(storeName, hostName + &quot;:&quot; + hostPort));</span>
<span class="nc" id="L132">    }</span>

    private void usage(String message) {
<span class="nc" id="L135">        System.out.println(&quot;\n&quot; + message + &quot;\n&quot;);</span>
<span class="nc" id="L136">        System.out.println(&quot;usage: &quot; + getClass().getName());</span>
<span class="nc" id="L137">        System.out.println(&quot;\t-store &lt;instance name&gt; (default: kvstore) &quot; +</span>
                           &quot;-host &lt;host name&gt; (default: localhost) &quot; +
                           &quot;-port &lt;port number&gt; (default: 5000)&quot;);
<span class="nc" id="L140">        System.exit(1);</span>
<span class="nc" id="L141">    }</span>

    /**
     * Performs example operations and closes the KVStore.
     */
    void runExample() {

<span class="nc" id="L148">        final String keyString = &quot;Hello&quot;;</span>
<span class="nc" id="L149">        final String valueString = &quot;Big Data World!&quot;;</span>

<span class="nc" id="L151">        store.put(Key.createKey(keyString),</span>
<span class="nc" id="L152">                  Value.createValue(valueString.getBytes()));</span>

<span class="nc" id="L154">        final ValueVersion valueVersion = store.get(Key.createKey(keyString));</span>

<span class="nc" id="L156">        System.out.println(keyString + &quot; &quot; +</span>
<span class="nc" id="L157">                           new String(valueVersion.getValue().getValue()));</span>

<span class="nc" id="L159">        store.close();</span>
<span class="nc" id="L160">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>